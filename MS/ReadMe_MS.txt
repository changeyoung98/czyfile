For iceberg:
I split time every 15 minutes and calculate the average pecentage of each period, along with the average price.Split the large order according to the percentage and price.
For SORT:
I follow the instructions and print the book and splitting into a file. For extra  part, I added only one thread to recieve orders, but it's too quick. If normal experience is wanted, Sleep()fuction can be added.